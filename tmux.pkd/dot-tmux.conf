# ===================================================================== #
#          _                                                  __        #
#         | |_  _ __ ___   _   _ __  __    ___  ___   _ __   / _|       #
#         | __|| '_ ` _ \ | | | |\ \/ /   / __|/ _ \ | '_ \ | |_        #
#        _| |_ | | | | | || |_| | >  <  _| (__| (_) || | | ||  _|       #
#       (_)\__||_| |_| |_| \__,_|/_/\_\(_)\___|\___/ |_| |_||_|         #
#                                                                       #
#                     Tmux Configuration File                           #
# ===================================================================== #

# Set default shell to nushell
set -g default-shell /usr/local/bin/nushell

# disable bell behavior
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

# Prefix: Ctrl+Space
set -g prefix C-Space
unbind C-b

# Status line basic options
set -g status-position bottom
set -g status-justify centre
set -g status-style bg=#2d2d2d,fg=default

# Command window/style (matches status bar blue)
set -g message-style bg=#698DDA,fg=#000000,bold
set -g message-command-style bg=#698DDA,fg=#000000,bold

# Prefix indicator (changes color when prefix pressed)
set -g status-left "\
#[bg=default,fg=default,bold]\
#{?client_prefix,, #{prefix} }\
#[bg=#698DDA,fg=#000000,bold]\
#{?client_prefix, #{prefix} ,}\
#[bg=default,fg=default,bold]"

# Status right - session name
set -g status-right "#S"

# Window status - simplified (index + name)
set -g window-status-format " #I:#W "

# Current window - colored highlight (no arrows)
set -g window-status-current-format "\
#[bg=#698DDA,fg=#000000]\
 #I:#W \
#[bg=default,fg=#698DDA]"

# Reset all default keybinds
unbind-key -a

# Make windows 1-indexed
set -g base-index 1
set -g pane-base-index 1

# Sessions
bind-key r command-prompt -I "#S" "rename-session '%%'"
bind-key L list-sessions
bind-key [ switch-client -p
bind-key ] switch-client -n
bind-key K confirm-before -p "Kill session? (y/n)" kill-session

# Windows
bind-key n new-window
bind-key [ previous-window
bind-key ] next-window
bind-key 1 select-window -t 1
bind-key 2 select-window -t 2
bind-key 3 select-window -t 3
bind-key 4 select-window -t 4
bind-key 5 select-window -t 5
bind-key 6 select-window -t 6
bind-key 7 select-window -t 7
bind-key 8 select-window -t 8
bind-key 9 select-window -t 9

# Panes
bind-key \\ split-window -h
bind-key - split-window -v
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind-key w kill-pane

# Other
bind-key : command-prompt
bind-key R source-file ~/.tmux.conf
bind-key d detach-client
# bind-key ? run-shell "tmux list-keys -T root -F '#{key}: #{command}' | sort"
