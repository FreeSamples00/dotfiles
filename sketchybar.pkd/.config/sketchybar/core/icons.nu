#!/usr/bin/env nu -n

def app_icon [
  app_name: string # name of application
]: nothing -> string {
    match $app_name {
        # Direct matches
        "Live" => ":ableton:",
        "Acrobat" => ":acrobat:",
        "Actual" => ":actual:",
        "AFFiNE" => ":affine:",
        "Affinity Designer" => ":affinity_designer:",
        "Affinity Designer 2" => ":affinity_designer_2:",
        "Affinity Photo" => ":affinity_photo:",
        "Affinity Photo 2" => ":affinity_photo_2:",
        "Affinity Publisher" => ":affinity_publisher:",
        "Affinity Publisher 2" => ":affinity_publisher_2:",
        "Airmail" => ":airmail:",
        "AirPort Utility" => ":airport_utility:",
        "Alacritty" => ":alacritty:",
        "Alfred" => ":alfred:",
        "AltTab" => ":alttab:",
        "AmneziaVPN" => ":amnezia_vpn:",
        "Android Messages" => ":android_messages:",
        "Android Studio" => ":android_studio:",
        "Anki" => ":anki:",
        "Anytype" => ":anytype:",
        "Apifox" => ":apifox:",
        "App Eraser" => ":app_eraser:",
        "App Store" => ":app_store:",
        "Apple Books" => ":apple_books:",
        "Arc" => ":arc:",
        "Atom" => ":atom:",
        "Audacity" => ":audacity:",
        "Automator" => ":automator:",
        "balenaEtcher" => ":balena_etcher:",
        "Bambu Studio" => ":bambu_studio:",
        "MoneyMoney" => ":bank:",
        "Battle.net" => ":battle_net:",
        "Bazecor" => ":bazecor:",
        "Bear" => ":bear:",
        "BetterTouchTool" => ":bettertouchtool:",
        "Bitwarden" => ":bit_warden:",
        "Blender" => ":blender:",
        "Blitzit" => ":blitzit:",
        "Bluetooth File Exchange" => ":bluetooth_file_exchange:",
        "BluOS Controller" => ":bluos_controller:",
        "Brain.fm" => ":brainfm:",
        "Brave Browser" => ":brave_browser:",
        "Bruno" => ":bruno:",
        "BusyCal" => ":busycal:",
        "calibre" => ":calibre:",
        "Capacities" => ":capacities:",
        "Caprine" => ":caprine:",
        "Amazon Chime" => ":chime:",
        "Choosy" => ":choosy:",
        "ClassIn" => ":classin:",
        "Claude" => ":claude:",
        "ClickUp" => ":click_up:",
        "Clock" => ":clock:",
        "coconutBattery" => ":coconut_battery:",
        "Code" => ":code:",
        "Code - Insiders" => ":code:",
        "Cold Turkey Blocker" => ":cold_turkey_blocker:",
        "Comet" => ":comet:",
        "Copilot" => ":copilot:",
        "CotEditor" => ":coteditor:",
        "Craft" => ":craft:",
        "Creative Cloud" => ":creative_cloud:",
        "Cursor" => ":cursor:",
        "Cypress" => ":cypress:",
        "Dash" => ":dash:",
        "DataGrip" => ":datagrip:",
        "DataSpell" => ":dataspell:",
        "DaVinci Resolve" => ":davinciresolve:",
        "DBeaver" => ":dbeaver:",
        "DeepSeek" => ":deepseek:",
        "Deezer" => ":deezer:",
        "Default" => ":default:",
        "deno" => ":deno:",
        "CleanMyMac X" => ":desktop:",
        "DEVONthink 3" => ":devonthink3:",
        "Dexcom" => ":dexcom:",
        "Dia" => ":dia:",
        "Discord" => ":discord:",
        "Discord Canary" => ":discord:",
        "Discord PTB" => ":discord:",
        "Docker" => ":docker:",
        "Docker Desktop" => ":docker:",
        "Double Commander" => ":doublecmd:",
        "Downie 4" => ":downie:",
        "Drafts" => ":drafts:",
        "draw.io" => ":draw_io:",
        "Dropbox" => ":dropbox:",
        "Eagle" => ":eagle:",
        "Element" => ":element:",
        "Emacs" => ":emacs:",
        "Finder" => ":finder:",
        "EuDic" => ":eudic:",
        "Evernote Legacy" => ":evernote_legacy:",
        "FaceTime" => ":face_time:",
        "FaceTime 通话" => ":face_time:",
        "Feishu" => ":feishu:",
        "Figma" => ":figma:",
        "Final Cut Pro" => ":final_cut_pro:",
        "Find My" => ":find_my:",
        "Firefox" => ":firefox:",
        "Firefox Developer Edition" => ":firefox_developer_edition:",
        "Firefox Nightly" => ":firefox_developer_edition:",
        "FL Studio" => ":flstudio:",
        "Folx" => ":folx:",
        "Fork" => ":fork:",
        "ForkLift" => ":forklift:",
        "Foxit PDF Reader" => ":foxit_reader:",
        "FreeCAD" => ":freecad:",
        "Freeform" => ":freeform:",
        "FreeTube" => ":freetube:",
        "FSNotes" => ":fsnotes:",
        "Fusion" => ":fusion:",
        "Games" => ":games:",
        "Gemini" => ":gemini:",
        "Google Gemini" => ":gemini:",
        "Ghostty" => ":ghostty:",
        "GIMP" => ":gimp:",
        "GitHub Desktop" => ":git_hub:",
        "Godot" => ":godot:",
        "GoLand" => ":goland:",
        "GoodLinks" => ":goodlinks:",
        "Goodnotes" => ":goodnotes:",
        "Google Chat" => ":google_chat:",
        "Chromium" => ":google_chrome:",
        "Google Chrome" => ":google_chrome:",
        "Google Chrome Canary" => ":google_chrome:",
        "Grammarly Editor" => ":grammarly:",
        "Granola" => ":granola:",
        "Grayjay" => ":grayjay:",
        "Hammerspoon" => ":hammerspoon:",
        "Hazel" => ":hazel:",
        "Helium" => ":helium:",
        "Home" => ":home:",
        "Home Assistant" => ":home_assistant:",
        "Hyper" => ":hyper:",
        "IntelliJ IDEA" => ":idea:",
        "IINA" => ":iina:",
        "Image Playground" => ":image_playground:",
        "Infuse" => ":infuse:",
        "Inkdrop" => ":inkdrop:",
        "Inkscape" => ":inkscape:",
        "Insomnia" => ":insomnia:",
        "Instapaper" => ":instapaper:",
        "iPhone Mirroring" => ":iphone_mirroring:",
        "Iris" => ":iris:",
        "iTerm" => ":iterm:",
        "iTerm2" => ":iterm:",
        "Jane Reader" => ":jane_reader:",
        "Jellyfin Media Player" => ":jellyfin:",
        "JetBrains Gateway" => ":jetbrains_gateway:",
        "JetBrains Toolbox" => ":jetbrains_toolbox:",
        "Joplin" => ":joplin:",
        "Journal" => ":journal:",
        "Kakoune" => ":kakoune:",
        "Karabiner-Elements Settings" => ":karabiner_elements:",
        "Karabiner-EventViewer" => ":karabiner_elements_event_viewer:",
        "KeePassXC" => ":kee_pass_x_c:",
        "Keyboard Maestro" => ":keyboard_maestro:",
        "KiCad" => ":kicad:",
        "Kiro" => ":kiro:",
        "kitty" => ":kitty:",
        "Kodi" => ":kodi:",
        "LanguageTool for Desktop" => ":languagetool_for_desktop:",
        "League of Legends" => ":league_of_legends:",
        "LibreWolf" => ":libre_wolf:",
        "LibreOffice" => ":libreoffice:",
        "Adobe Lightroom" => ":lightroom:",
        "Lightroom Classic" => ":lightroomclassic:",
        "LINE" => ":line:",
        "Linear" => ":linear:",
        "LM Studio" => ":lm_studio:",
        "LocalSend" => ":localsend:",
        "Logic Pro" => ":logicpro:",
        "Logseq" => ":logseq:",
        "Maccy" => ":maccy_clip:",
        "MacPass" => ":macpass:",
        "Marta" => ":marta:",
        "Mattermost" => ":mattermost:",
        "Messenger" => ":messenger:",
        "Microsoft Edge" => ":microsoft_edge:",
        "Microsoft Excel" => ":microsoft_excel:",
        "Microsoft Outlook" => ":microsoft_outlook:",
        "Microsoft PowerPoint" => ":microsoft_power_point:",
        "Microsoft Remote Desktop" => ":microsoft_remote_desktop:",
        "Microsoft Teams" => ":microsoft_teams:",
        "Microsoft Teams (work or school)" => ":microsoft_teams:",
        "Microsoft Word" => ":microsoft_word:",
        "Mimestream" => ":mimestream:",
        "Min" => ":min_browser:",
        "Miro" => ":miro:",
        "Moonlight" => ":moonlight:",
        "Movist Pro" => ":movist_pro:",
        "mpv" => ":mpv:",
        "Mullvad Browser" => ":mullvad_browser:",
        "Navicat Premium" => ":navicat:",
        "Neovide" => ":neovide:",
        "neovide" => ":neovide:",
        "Netflix" => ":netflix:",
        "NetNewsWire" => ":netnewswire:",
        "News" => ":news:",
        "Nextcloud" => ":nextcloud:",
        "Nicotine+" => ":nicotine_plus:",
        "Noodl" => ":noodl:",
        "NordVPN" => ":nord_vpn:",
        "Notability" => ":notability:",
        "Notion" => ":notion:",
        "Notion Mail" => ":notion_mail:",
        "Nova" => ":nova:",
        "nvALT" => ":nvalt:",
        "Nvidia GeForce Now" => ":nvidia_geforce_now:",
        "GeForceNOW" => ":nvidia_geforce_now:",
        "Obsidian" => ":obsidian:",
        "OBS" => ":obsstudio:",
        "OmniFocus" => ":omni_focus:",
        "1Password" => ":one_password:",
        "Open Video Downloader" => ":open_video_downloader:",
        "ChatGPT" => ":openai:",
        "OpenAI Translator" => ":openai_translator:",
        "OpenVPN Connect" => ":openvpn_connect:",
        "Opera" => ":opera:",
        "OrbStack" => ":orbstack:",
        "OrcaSlicer" => ":orcaslicer:",
        "Overcast" => ":overcast:",
        "Pages" => ":pages:",
        "Parallels Desktop" => ":parallels:",
        "Parcel" => ":parcel:",
        "Parsec" => ":parsec:",
        "Passepartout" => ":passepartout:",
        "Pearcleaner" => ":pearcleaner:",
        "Phoenix Slides" => ":phoenix_slides:",
        "Phone" => ":phone:",
        "PhpStorm" => ":php_storm:",
        "Pi-hole Remote" => ":pihole:",
        "Pine" => ":pine:",
        "Pixelmator Pro" => ":pixelmator_pro:",
        "Play" => ":play:",
        "Plex" => ":plex:",
        "Plexamp" => ":plexamp:",
        "PomoDone App" => ":pomodone:",
        "Postman" => ":postman:",
        "Premiere" => ":premiere:",
        "Adobe Premiere" => ":premiere:",
        "Adobe Premiere Pro 2024" => ":premiere:",
        "PrusaSlicer" => ":prusaslicer:",
        "PyCharm" => ":pycharm:",
        "qBittorrent" => ":qbittorrent:",
        "QLMarkdown" => ":qlmarkdown:",
        "QQ" => ":qq:",
        "Quantumult X" => ":quantumult_x:",
        "QuickTime Player" => ":quicktime:",
        "Quip" => ":quip:",
        "qutebrowser" => ":qute_browser:",
        "Raindrop.io" => ":raindrop_io:",
        "Raycast" => ":raycast:",
        "Reeder" => ":reeder5:",
        "rekordbox" => ":rekordbox:",
        "Remind Faster" => ":remind_me_faster:",
        "Replit" => ":replit:",
        "Repo Prompt" => ":repo_prompt:",
        "Rio" => ":rio:",
        "Royal TSX" => ":royaltsx:",
        "RustDesk" => ":rustdesk:",
        "Scribus" => ":scribus:",
        "Seafile" => ":seafile:",
        "Sequel Ace" => ":sequel_ace:",
        "Sequel Pro" => ":sequel_pro:",
        "Session" => ":session:",
        "Setapp" => ":setapp:",
        "Shortcuts" => ":shortcuts:",
        "Signal" => ":signal:",
        "sioyek" => ":sioyek:",
        "Sketch" => ":sketch:",
        "Skype" => ":skype:",
        "Slack" => ":slack:",
        "SnippetsLab" => ":snippetslab:",
        "solidtime" => ":solidtime:",
        "Spark Desktop" => ":spark:",
        "Spotify" => ":spotify:",
        "Spotlight" => ":spotlight:",
        "Steam" => ":steam:",
        "Steam Helper" => ":steam:",
        "Studio 3T" => ":studio_3t:",
        "Sublime Merge" => ":sublime_merge:",
        "Sublime Text" => ":sublime_text:",
        "Summoners War" => ":summoners_war:",
        "superProductivity" => ":superproductivity:",
        "Surfshark" => ":surfshark:",
        "Swift Playground" => ":swift_playground:",
        "T3 Chat" => ":t3chat:",
        "Tabby" => ":tabby:",
        "TablePlus" => ":tableplus:",
        "Tana" => ":tana:",
        "TeamSpeak 3" => ":team_speak:",
        "Telegram" => ":telegram:",
        "Termius" => ":termius:",
        "Typora" => ":text:",
        "TextEdit" => ":textedit:",
        "Thunderbird" => ":thunderbird:",
        "Thunderbird Daily" => ":thunderbird:",
        "TickTick" => ":tick_tick:",
        "TIDAL" => ":tidal:",
        "Timery" => ":timery:",
        "Tiny RDM" => ":tinyrdm:",
        "Tips" => ":tips:",
        "Todoist" => ":todoist:",
        "Toggl Track" => ":toggl_track:",
        "Tor Browser" => ":tor_browser:",
        "Tot" => ":tot:",
        "Tower" => ":tower:",
        "TradingView" => ":trading_view:",
        "Transmit" => ":transmit:",
        "Trello" => ":trello:",
        "TV" => ":tv:",
        "Twingate" => ":twingate:",
        "Tweetbot" => ":twitter:",
        "Twitter" => ":twitter:",
        "UTM" => ":utm:",
        "VeraCrypt" => ":veracrypt:",
        "MacVim" => ":vim:",
        "Vim" => ":vim:",
        "VimR" => ":vim:",
        "Neovim" => ":neovim:",
        "neovim" => ":neovim:",
        "nvim" => ":neovim:",
        "Vivaldi" => ":vivaldi:",
        "VLC" => ":vlc:",
        "VMware Fusion" => ":vmware_fusion:",
        "Voice Memos" => ":voice_memos:",
        "Vorta" => ":vorta:",
        "VSCodium" => ":vscodium:",
        "Warp" => ":warp:",
        "WebStorm" => ":web_storm:",
        "Webull Desktop" => ":webull:",
        "Windows App" => ":windows_app:",
        "WireGuard" => ":wireguard:",
        "Xcode" => ":xcode:",
        "Yazi" => ":yazi:",
        "yazi" => ":yazi:",
        "YouTube" => ":youtube:",
        "YouTube Music" => ":youtube_music:",
        "Zed" => ":zed:",
        "Zen" => ":zen_browser:",
        "Zen Browser" => ":zen_browser:",
        "Zeplin" => ":zeplin:",
        "zoom.us" => ":zoom:",
        "Zotero" => ":zotero:",
        "Zulip" => ":zulip:",
        # Multiple alternative matches
        "Activity Monitor" | "Aktivitätsanzeige" => ":activity_monitor:",
        "Arduino" | "Arduino IDE" => ":arduino:",
        "Calculator" | "Calculette" | "Rechner" => ":calculator:",
        "Calendar" | "日历" | "Fantastical" | "Cron" | "Amie" | "Calendrier" | "カレンダー" | "Notion Calendar" | "Kalender" => ":calendar:",
        "Books" | "Calibre" | "Bücher" => ":book:",
        "Color Picker" | "数码测色计" => ":color_picker:",
        "Cisco AnyConnect Secure Mobility Client" | "Cisco Secure Client" => ":cisco_anyconnect:",
        "Citrix Workspace" | "Citrix Viewer" => ":citrix:",
        "DingTalk" | "钉钉" | "阿里钉" => ":dingtalk:",
        "Bilibili" | "哔哩哔哩" => ":bilibili:",
        "GrandTotal" | "Receipts" => ":dollar:",
        "网易云音乐" | "NetEaseMusic" => ":netease_music:",
        "Canary Mail" | "HEY" | "Mail" | "Mailspring" | "MailMate" | "Superhuman" | "Spark" | "Spark Mail" | "邮件" | "メール" => ":mail:",
        "MAMP" | "MAMP PRO" => ":mamp:",
        "Maps" | "Google Maps" | "マップ" | "Karten" => ":maps:",
        "Matlab" | "MATLAB" | "MATLABWindow" | "MATLAB_R2024b" | "MATLAB_R2024a" | "MATLAB_R2023b" | "MATLAB_R2023a" | "MATLAB_R2022b" | "MATLAB_R2022a" | "MATLAB_R2021b" | "MATLAB_R2021a" => ":matlab:",
        "Google Meet" => ":meet:",
        "Messages" | "信息" | "Nachrichten" | "メッセージ" => ":messages:",
        "Music" | "音乐" | "Musique" | "ミュージック" | "Musik" | "Chromatix" => ":music:",
        "Podcasts" | "播客" => ":podcasts:",
        "Nimble Commander" | "NimbleCommander-Unsigned" => ":nimble_commander:",
        "Noodl" | "Noodl Editor" => ":noodl:",
        "Notes" | "备忘录" | "メモ" | "Notizen" => ":notes:",
        "Numbers" | "Numbers 表格" => ":numbers:",
        "Orion" | "Orion RC" => ":orion:",
        "Overleaf" | "ShareLaTeX" => ":overleaf:",
        "Passwords" | "Passwörter" => ":passwords:",
        "Perplexity" | "Perplexity AI" => ":perplexity:",
        "Photos" | "Fotos" => ":photos:",
        "Preview" | "预览" | "Skim" | "zathura" | "Aperçu" | "プレビュー" | "Vorschau" => ":preview:",
        "Proton Mail" | "Proton Mail Bridge" => ":proton_mail:",
        "Proton VPN" | "ProtonVPN" => ":proton_vpn:",
        "PrusaSlicer" | "SuperSlicer" => ":prusaslicer:",
        "QQ音乐" | "QQMusic" => ":qqmusic:",
        "Raspberry Pi Imager" | "Raspberry Pi Connect" => ":raspberry_pi:",
        "Reminders" | "提醒事项" | "Rappels" | "リマインダー" | "Erinnerungen" => ":reminders:",
        "Rider" | "JetBrains Rider" => ":rider:",
        "Safari" | "Safari浏览器" | "Safari Technology Preview" => ":safari:",
        "System Preferences" | "System Settings" | "系统设置" | "Réglages Système" | "システム設定" | "Systemeinstellungen" | "System­einstellungen" => ":gear:",
        "SF Symbols" | "SF Symbole" | "SF-Symbole" => ":sf_symbols:",
        "Terminal" | "终端" | "ターミナル" => ":terminal:",
        "Microsoft To Do" | "Things" => ":things:",
        "Weather" | "Wetter" => ":weather:",
        "微信" | "WeChat" => ":wechat:",
        "企业微信" | "WeCom" => ":wecom:",
        "WezTerm" | "wezterm-gui" => ":wezterm:",
        "WhatsApp" | "‎WhatsApp" => ":whats_app:",
        "Yandex Browser" | "Yandex Browser" | "Yandex" => ":yandex_bower:",
        "Yuque" | "语雀" => ":yuque:",
        "카카오톡" | "KakaoTalk" => ":kakaotalk:",
        "Keynote" | "Keynote 讲演" => ":keynote:",
        # Regex wildcard matches
        $x if $x =~ r"Burp Suite.*" => ":burp_suite:",
        $x if $x =~ r"Cursor.+" => ":cursor_ide:",
        $x if $x =~ r"Adobe Bridge.*" => ":adobe_bridge:",
        $x if $x =~ r"Burp Suite.*" => ":burp_suite:",
        $x if $x =~ r"Adobe Illustrator.*" => ":illustrator:",
        "Illustrator" => ":illustrator:",
        $x if $x =~ r"Adobe InDesign.*" => ":indesign:",
        "InDesign" => ":indesign:",
        $x if $x =~ r"MongoDB Compass.*" => ":mongodb:",
        $x if $x =~ r"Adobe Photoshop.*" => ":photoshop:",
        _ => ":default:",
    }
}

def widget_icon [
  name: string # icon name
]: nothing -> string {
  match $name {
    "block-1" => "▁"
    "block-2" => "▂"
    "block-3" => "▃"
    "block-4" => "▄"
    "block-5" => "▅"
    "block-6" => "▆"
    "block-7" => "▇"
    "block-8" => "█"
    "battery_empty" => ""
    "battery_low" => ""
    "battery_medium" => ""
    "battery_full" => ""
    "battery_charging" => ""
    "clock" => ""
    "calendar" => ""
    "network_download" => ""
    "network_upload" => ""
    "disk" => ""
    "loading" => ""
    "volume_low" => ""
    "volume_high" => ""
    "volume_mute" => ""
    "cpu" => ""
    "coffee_on" => "󰅶"
    "coffee_off" => "󰶞"
    "restart" => ""
    "memory" => ""
    "config" => ""
    "bluetooth" => "󰂯"
    "bluetooth_off" => "󰂲"
    "weather_clear_day" => ""
    "weather_clear_night" => ""
    "weather_partly_cloudy_day" => ""
    "weather_partly_cloudy_night" => ""
    "weather_cloudy_day" => ""
    "weather_cloudy_night" => ""
    "weather_fog_day" => ""
    "weather_fog_night" => ""
    "weather_rain_day" => ""
    "weather_rain_night" => ""
    "weather_snow_day" => ""
    "weather_snow_night" => ""
    "weather_hail_day" => ""
    "weather_hail_night" => ""
    "weather_sleet_day" => ""
    "weather_sleet_night" => ""
    "weather_thunderstorm_day" => ""
    "weather_thunderstorm_night" => ""
    "weather_default" => ""
    "apple_logo" => "󰀵"
    "mail" => "󰶈"
    _ => ""
  }
}

export def main [
  icon_type: string@[widget app] # Type of icon to retrieve
  name: string # name of icon/app
]: nothing -> string {
  if $icon_type == widget {
    return (widget_icon $name)
  } else if $icon_type == app {
    return (app_icon $name)
  } else {
    return ""
  }
}
